#!/bin/bash
#title                    :menu.sh
#description              :This script is for editing jobs via friendlier interface 
#author		          :Gabriel Saliev (40441590)
#date                     :2020.10.05
#version                  :0.1
#Made for		  :CSN08116 2020, coursework
#contributors(1)          :Markus Meresma (40439107)
#contributors(2)          :Dávid Gábor Uzonyi(40429825) 


#1.Select job to edit
#2.Save job parameters to a variable
#3.Ask user which parameters he wants to edit
#Create new string with the edited parameters
#Search and delete the cronjob in the crontab file
#Then insert the newly created job 

file=$(crontab -l)

function main () {

    while true;
    do
	#display jobs
	source `pwd`"/displayjob"

	get_select_job

	
    done

}
function get_select_job()
{
    echo "Select one of the jobs displayed (write it down): "
    read select_job_input
    validate_select_job
}


function validate_select_job() {
    #if selected job does not exist in crontab file
    #display error message

    job_exist=grep $select_job_input $file
    if ( $job_exist == false ]
    then
	echo "This job does not exist."
	get_select_job
    else
	#2.save select job in a var
	saved_job=$select_job_input
    fi
}

function edit_saved_job(){
    # call the functions from insert job
    # 3.ask user which parameters he wants to edit
    # edit job name?
    # minutes
    # hour
    # day of month
    # month of year
    # day of week
}

source `pwd`"/exit"    
